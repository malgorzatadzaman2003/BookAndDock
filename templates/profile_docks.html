{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="profile-container">
    <h2>Docks Management </h2>

    <!-- Tab Navigation -->
    <div class="tab-container">
        <button class="tab-button active" data-tab="published">Published Docks</button>
        <button class="tab-button" data-tab="pending">Docks to be Accepted</button>
    </div>

    <!-- Published Docks Section -->
    <div id="published" class="tab-content active">
        {% if published_docks %}
            <section class="recipe-grid">
                {% for dock in published_docks %}
                    <article class="recipe-card">
                        <h2>{{ dock.name }}</h2> {# Assuming docks have a "name" field #}
                        {% if dock.image %}
                            <img src="{{ dock.image.url }}" alt="{{ dock.name }} image" class="recipe-image">
                        {% endif %}
                        <p class="date">Created: {{ dock.created_at }}</p>
                        <a href="{% url 'dock_detail' dock.pk %}">View Dock</a>
                        <a href="{% url 'modify_dock' dock.pk %}" class="edit-link">Modify</a>
                        <a href="{% url 'delete_dock' dock.pk %}" class="delete-link">Delete</a>
                    </article>
                {% endfor %}
            </section>
        {% else %}
            <p>No published docks yet.</p>
        {% endif %}
    </div>

    <!-- Pending Docks Section -->
    <div id="pending" class="tab-content">
        {% if docks_to_be_accepted %}
            <section class="recipe-grid">
                {% for dock in docks_to_be_accepted %}
                    <article class="recipe-card">
                        <h2>{{ dock.name }}</h2>
                        {% if dock.image %}
                            <img src="{{ dock.image.url }}" alt="{{ dock.name }} image" class="recipe-image">
                        {% endif %}
                        <p class="date">Created: {{ dock.created_at }}</p>
                        <a href="{% url 'dock_detail' dock.pk %}">View Dock</a>
                        <a href="{% url 'modify_dock' dock.pk %}" class="edit-link">Modify</a>
                        <a href="{% url 'delete_dock' dock.pk %}" class="delete-link">Delete</a>
                    </article>
                {% endfor %}
            </section>
        {% else %}
            <p>No docks waiting for acceptance.</p>
        {% endif %}
    </div>

</div>

{% block extra_js %}
    <script src="{% static 'profile.js' %}"></script> {# Handles tab switching #}
{% endblock %}
{% endblock %}